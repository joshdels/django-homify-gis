{% extends 'base.html' %}

{% block content %}
  <div class="mb-4 border-bottom pb-2">
    <span class="fw-bold fs-5 mb-1">ðŸ“‹ Listing</span>
    <p class="text-muted fs-6 mb-0 text-sm">
      Available properties: {{ properties|length }} units
    </p>
  </div>

  <div class="row row-cols-1 row-cols-md-2 g-3" id="cardContainer">
    {% for property in properties %}
      <div class="col">
        <div class="card h-100 shadow-sm position-relative">
          <div class="card-body">
            <h5 class="mb-2" id="card-header">
              â‚±{{ property.price }}/month
            </h5>
            <p class="m-0 mb-1" id="card-text-1">
              <strong>{{ property.type }}</strong> | 
              <strong>{{ property.floor_area }}</strong> sqm | 
              <strong>{{ property.bedrooms }}</strong> bed/s
            </p>
            <p class="m-0 text-muted" id="card-text-2">
              {{ property.address }}
            </p>
            <!-- stretched link makes the whole card clickable -->
            <a href="{% url 'listing_detail' property.id %}" class="stretched-link"></a>
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
{% endblock content %}
