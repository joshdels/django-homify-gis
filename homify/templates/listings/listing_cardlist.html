{% extends 'base_v2.html' %} 
{% load static %} 

{% block title %}Map{% endblock title %}

{% block content %}

<style>
:root {
  --navbar-height: 55px;
  --search-panel-height: 70px !important; 
}

</style>

<!-- content -->
<div class="p-0">
  <div class="row">
      {% include 'listings/listings_search_panel.html' %}
  </div>

  <div class="row g-0">
    

    <!-- LEFT: Map -->
    <div class="col-12 col-md-6 p-0" id="map" style="background-color: black;">
      Map
    </div>

    <!-- RIGHT: Property Cards -->
    <div
      class="col-12 col-md-6 p-3 d-flex flex-column container-fluid"
      id="sidebar"
    >
      <div class="mb-4 pb-2">
        <p class="text-bold fs-6 text-sm">
          Available properties: {{ properties|length }} units
        </p>
      </div>

      <div class="container mt-3">
          <div class="row row-cols-1 row-cols-md-2 g-3" id="property-list">
              <!-- JS will populate property cards here -->
          </div>
      </div>

      {% include 'page_footer.html' %}
    </div>
  </div>
</div>

<style>
  /* Resize card images */
  .property-card-img {
    height: 200px;
    object-fit: cover;
  }

  /* Hover effect for cards */
  .property-card:hover {
    transform: translateY(-3px);
    transition: transform 0.2s, box-shadow 0.2s;
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
  }
</style>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="{% static 'map/publicMap.js' %}"></script>

{% endblock content %}
